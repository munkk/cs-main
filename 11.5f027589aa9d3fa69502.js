(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"bW7/":function(e,t,n){"use strict";n.r(t),n.d(t,"ChatPageModule",function(){return b});var s=n("ofXK"),a=n("3Pt+"),c=n("tyNb"),r=n("AytR"),i=n("fXoL"),o=n("qXBG"),h=n("YYwF"),l=n("By9l");function u(e,t){if(1&e&&(i.Ub(0),i.Rb(1,"iframe",3),i.Tb()),2&e){const e=i.gc();i.Db(1),i.lc("src",e.getUrl(),i.vc)}}function g(e,t){1&e&&i.Rb(0,"app-loader")}let f=(()=>{class e{constructor(e,t,n,s){this.authService=e,this.safePipe=t,this.cd=n,this.router=s,this.token="123",this.receiveMessage=e=>{switch(e.data.message){case"ChatMessage":return this.onMessage(e.data);case"ChatDuel":return this.onDuel(e.data)}},window.addEventListener("message",this.receiveMessage,!1)}getUrl(){return this.safePipe.transform(r.a.chatURL,"resourceUrl")}setToken(){this.authService.getJwtToken().then(e=>{this.token=e,this.cd.markForCheck()})}onMessage(e){}onDuel(e){this.router.navigateByUrl("/app/games")}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(o.a),i.Qb(h.a),i.Qb(i.h),i.Qb(c.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["chat-page"]],decls:4,vars:2,consts:[[1,"chat-page"],[4,"ngIf","ngIfElse"],["loader",""],["title","Chat",3,"src"]],template:function(e,t){if(1&e&&(i.Wb(0,"div",0),i.Bc(1,u,2,1,"ng-container",1),i.Vb(),i.Bc(2,g,1,0,"ng-template",null,2,i.Cc)),2&e){const e=i.sc(3);i.Db(1),i.lc("ngIf",t.token)("ngIfElse",e)}},directives:[s.k,l.a],styles:[".chat-page[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}"],changeDetection:0}),e})();var p=n("aTP5");const d=[{path:"",component:f}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({providers:[h.a],imports:[[s.c,a.b,c.d.forChild(d),p.a]]}),e})()}}]);