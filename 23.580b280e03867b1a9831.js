(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{d5q1:function(t,e,s){"use strict";s.r(e),s.d(e,"TrainerPageModule",function(){return U});var n=s("ofXK"),c=s("3Pt+"),i=s("tyNb"),r=s("kmnG"),a=s("qFsG"),o=s("bTqV"),l=s("5Oq0"),u=s("zdvs"),p=s("fXoL"),h=s("1f1I");let d=(()=>{class t{constructor(t){this.router=t}goTest(t){this.router.navigateByUrl("/app/trainer/"+t.type)}}return t.\u0275fac=function(e){return new(e||t)(p.Qb(i.a))},t.\u0275cmp=p.Kb({type:t,selectors:[["trainer-page"]],decls:2,vars:0,consts:[[1,"trainer-page"],["title","Selecty","type","selecty",3,"onClick"]],template:function(t,e){1&t&&(p.Wb(0,"section",0),p.Wb(1,"app-road-card",1),p.cc("onClick",function(t){return e.goTest(t)}),p.Vb(),p.Vb())},directives:[h.a],styles:[".trainer-page[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:25px;margin:0 2rem;padding:2rem}"]}),t})();var b=s("aTP5"),f=s("l7P3"),g=s("XNiG"),m=s("Cfvw"),w=s("1G5W"),C=s("eIep"),x=s("sQ2W"),y=s("ErQA"),_=s("Cq3C"),v=s("n90K"),k=s("3hQK"),O=function(t){return t.SUCCESS="SUCCESS",t.FAIL="FAIL",t}({}),S=s("nd0x");const R=function(t){return{chip__success:t}};let q=(()=>{class t{constructor(){this.TestResultEnum=O,this.onClick=new p.n}handleClick(){this.onClick.emit({id:this.data.id,text:this.data.text,answer:this.data.answer})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Kb({type:t,selectors:[["chip"]],inputs:{data:"data"},outputs:{onClick:"onClick"},decls:2,vars:5,consts:[[1,"chip",3,"ngClass","click"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.cc("click",function(){return e.handleClick()}),p.Dc(1),p.Vb()),2&t&&(p.lc("ngClass",p.oc(3,R,e.data.highlight===e.TestResultEnum.SUCCESS)),p.Eb("data-id",e.data.id),p.Db(1),p.Fc(" ",e.data.answer,"\n"))},directives:[n.i],styles:[".chip[_ngcontent-%COMP%]{border-radius:50px;cursor:pointer;transition:color .15s,background-color .15s,border-color .15s,box-shadow .15s;color:#3f6ad8;border:1px dashed;font-size:.8rem;font-weight:500;padding:.375rem .75rem;text-transform:capitalize;margin-right:.5rem;margin-bottom:.5rem}.chip[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3f6ad8;border-style:solid}.chip__success[_ngcontent-%COMP%]{color:#3ac47d!important;background-color:#fff!important;border-style:dashed!important}"]}),t})();function T(t,e){if(1&t){const t=p.Xb();p.Wb(0,"chip",2),p.cc("onClick",function(e){return p.tc(t),p.gc().checkCorrectness(e)}),p.Vb()}2&t&&p.lc("data",e.$implicit)}let W=(()=>{class t{constructor(t){this.renderer=t,this.onResult=new p.n}checkCorrectness(t){this.onResult.emit(this.answer.answer===t.answer?{status:O.SUCCESS}:{status:O.FAIL}),this.highlight(this.getAnswer(),O.SUCCESS)}getAnswer(){return this.chips.find(t=>t.id===this.answer.id)}highlight(t,e){t.highlight=e}}return t.\u0275fac=function(e){return new(e||t)(p.Qb(p.F))},t.\u0275cmp=p.Kb({type:t,selectors:[["chip-list"]],inputs:{chips:"chips",answer:"answer"},outputs:{onResult:"onResult"},decls:2,vars:1,consts:[[1,"chip-list"],[3,"data","onClick",4,"ngFor","ngForOf"],[3,"data","onClick"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Bc(1,T,1,1,"chip",1),p.Vb()),2&t&&(p.Db(1),p.lc("ngForOf",e.chips))},directives:[n.j,q],styles:[".chip-list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;margin:10px 0}"]}),t})();var j=s("4Cnk");const P=["successTemplate"],V=["failTemplate"];function M(t,e){if(1&t&&(p.Wb(0,"div",11),p.Dc(1),p.Vb()),2&t){const t=p.gc(2);p.Db(1),p.Fc(" ",t.questions[t.page].text," ")}}function B(t,e){1&t&&p.Sb(0)}function D(t,e){if(1&t){const t=p.Xb();p.Wb(0,"div",3),p.Wb(1,"div",4),p.Wb(2,"span",5),p.Dc(3),p.Vb(),p.Vb(),p.Wb(4,"div",6),p.Bc(5,M,2,1,"div",7),p.Bc(6,B,1,0,"ng-container",8),p.Vb(),p.Wb(7,"div",9),p.Wb(8,"chip-list",10),p.cc("onResult",function(e){return p.tc(t),p.gc()._onResult(e)}),p.Vb(),p.Vb(),p.Vb()}if(2&t){const t=p.gc();p.Db(3),p.Gc(" ",t.page+1," \u0438\u0437 ",t.questions.length," "),p.Db(2),p.lc("ngIf",!t.templateBlock),p.Db(1),p.lc("ngTemplateOutlet",t.templateBlock),p.Db(2),p.lc("chips",t.chips)("answer",t.questions[t.page])}}function I(t,e){1&t&&p.Rb(0,"app-sweet-success",12)}function E(t,e){1&t&&p.Rb(0,"app-sweet-success",13)}let F=(()=>{class t extends k.a{constructor(){super(...arguments),this.successTemplate=null,this.failTemplate=null,this.onResult=new p.n,this.templateBlock=null}get questions(){return this._questions}set questions(t){t&&(this._questions=t,this.setChips())}_onResult({status:t}){this.templateBlock=t===O.SUCCESS?this.successTemplate:this.failTemplate,this.onResult.emit({status:t})}setChips(){const t=this.questions[this.page],e=Object(S.c)(this.questions.filter(e=>e.id!==t.id),4);this.chips=Object(S.b)(e.concat(t).sort(()=>Math.random()-Math.random()))}invalidate(){this.templateBlock=null}shuffle(){this.setChips()}}return t.\u0275fac=function(){let e;return function(s){return(e||(e=p.Yb(t)))(s||t)}}(),t.\u0275cmp=p.Kb({type:t,selectors:[["text-answer"]],viewQuery:function(t,e){if(1&t&&(p.Hc(P,7),p.Hc(V,7)),2&t){let t;p.rc(t=p.dc())&&(e.successTemplate=t.first),p.rc(t=p.dc())&&(e.failTemplate=t.first)}},inputs:{questions:"questions"},outputs:{onResult:"onResult"},features:[p.Ab],decls:5,vars:1,consts:[["class","text-answer-test",4,"ngIf"],["successTemplate",""],["failTemplate",""],[1,"text-answer-test"],[1,"text-answer-test__head"],[1,"text-answer-test__page"],[1,"text-answer-test__body"],["class","text-answer-test__text",4,"ngIf"],[4,"ngTemplateOutlet"],["lass","text-answer-test__footer"],[3,"chips","answer","onResult"],[1,"text-answer-test__text"],["type","success"],["type","fail"]],template:function(t,e){1&t&&(p.Bc(0,D,9,6,"div",0),p.Bc(1,I,1,0,"ng-template",null,1,p.Cc),p.Bc(3,E,1,0,"ng-template",null,2,p.Cc)),2&t&&p.lc("ngIf",e.questions)},directives:[n.k,n.o,W,j.a],styles:[".text-answer-test[_ngcontent-%COMP%]{margin:0 auto;box-shadow:0 .46875rem 2.1875rem rgba(4,9,20,.03),0 .9375rem 1.40625rem rgba(4,9,20,.03),0 .25rem .53125rem rgba(4,9,20,.05),0 .125rem .1875rem rgba(4,9,20,.03);padding:32px;width:70vw;max-width:750px;border-radius:10px}.text-answer-test__head[_ngcontent-%COMP%]{position:relative}.text-answer-test__page[_ngcontent-%COMP%]{opacity:.6}.text-answer-test__text[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:40px 0}"]}),t})(),K=(()=>{class t{constructor(t,e){this.storageService=t,this.store=e,this.data=null,this.destroy$=new g.a,this.store.pipe(Object(w.a)(this.destroy$),Object(f.m)(_.d),Object(C.a)(t=>Object(m.a)(this.storageService.get(t.type)))).subscribe(t=>{this.data=t.slice(0,20)}),this.store.dispatch(Object(y.a)({value:"Next"})),this.store.dispatch(Object(x.a)({callback:()=>{this.controller.next(),this.store.dispatch(Object(y.f)())}}))}setController(t){this.controller=t}onResult({}){this.store.dispatch(Object(y.j)())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(p.Qb(v.a),p.Qb(f.b))},t.\u0275cmp=p.Kb({type:t,selectors:[["selecty"]],decls:2,vars:1,consts:[[1,"selecty"],[3,"questions","onInitController","onResult"]],template:function(t,e){1&t&&(p.Wb(0,"div",0),p.Wb(1,"text-answer",1),p.cc("onInitController",function(t){return e.setController(t)})("onResult",function(t){return e.onResult(t)}),p.Vb(),p.Vb()),2&t&&(p.Db(1),p.lc("questions",e.data))},directives:[F],styles:[".selecty[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;background-color:#f9f9f9}"]}),t})();var Q=s("00Pt");const A=[{path:"",component:d},{path:"selecty",component:K}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Ob({type:t}),t.\u0275inj=p.Nb({imports:[[l.a,l.a,Q.a,b.a,u.a,n.c,c.b,a.a,o.c,r.c,i.d.forChild(A)]]}),t})()}}]);